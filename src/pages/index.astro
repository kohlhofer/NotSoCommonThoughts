---
import { getCollection } from 'astro:content';
import Layout from '../layouts/Layout.astro';
import PostListItem from '../components/PostListItem.astro';
import type { CollectionEntry } from 'astro:content';

// Get all blog posts and sort by date
const posts = (await getCollection('blog'))
  .filter(post => !post.data.unlisted)
  .sort((a, b) => b.data.date.valueOf() - a.data.date.valueOf());
---

<Layout title="Not So Common Thoughts">
  <div class="pt-8 sm:pt-12 pb-16 sm:pb-24">
    <div class="max-w-7xl px-4 sm:px-8 md:px-12 lg:px-16">
      <!-- Hero Section -->
      <div class="text-center mb-16">
        <h1 class="text-3xl sm:text-4xl font-serif text-slate-900 dark:text-slate-100 mb-6">
          Not So Common Thoughts
        </h1>
        <blockquote class="text-lg sm:text-xl text-slate-600 dark:text-slate-400 font-serif italic max-w-3xl mx-auto">
          "The question then is, 'Of all the things you can now do, which do you choose to do?'"
        </blockquote>
        <p class="text-sm text-slate-500 dark:text-slate-500 mt-4">
          â€” Brian Eno
        </p>
      </div>

      <!-- Posts List -->
      <div class="max-w-2xl mx-auto">
        <div class="space-y-12">
          {posts.map((post: CollectionEntry<'blog'>) => (
            <PostListItem post={post} />
          ))}
        </div>
      </div>
    </div>
  </div>
</Layout>

<style>
  .bg-grid-white {
    background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32' width='32' height='32' fill='none' stroke='rgb(255 255 255 / 0.04)'%3e%3cpath d='M0 .5H31.5V32'/%3e%3c/svg%3e");
  }
</style>
